<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mohit Malu | Data Scientist & Data Engineer</title>
  <meta name="description" content="Portfolio of Mohit Malu — Data Scientist & Data Engineer. Projects in ML, Big Data, and cloud (AWS)." />
  <meta name="theme-color" content="#0ea5e9" />
  <!-- SEO / Social -->
  <meta property="og:title" content="Mohit Malu | Data Scientist & Data Engineer" />
  <meta property="og:description" content="Projects in ML, Big Data, and AWS. View work, resume, and contact." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/mohit.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="images/mohit.jpg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0b1220;
      --panel: #0f172a;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --brand: #38bdf8; /* sky-400 */
      --brand-2: #22d3ee; /* cyan-400 */
      --accent: #fbbf24; /* amber-400 */
      --ring: rgba(56,189,248,.45);
      --shadow: 0 10px 40px rgba(2,6,23,.35);
    }
    :root.light{
      --bg:#f7fafc; --panel:#ffffff; --text:#0f172a; --muted:#475569; --brand:#0284c7; --brand-2:#06b6d4; --accent:#f59e0b; --ring:rgba(2,132,199,.2); --shadow:0 10px 30px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;scroll-behavior:smooth}
    body{font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--text);line-height:1.65}

    /* ====== Top Nav ====== */
    .nav{position:sticky;top:0;z-index:50;backdrop-filter:saturate(140%) blur(10px);border-bottom:1px solid rgba(148,163,184,.15)}
    .nav-inner{max-width:1100px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:10px 16px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
    .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(135deg,var(--brand),var(--brand-2));box-shadow:0 0 0 6px var(--ring)}
    .nav a{color:var(--text);text-decoration:none;font-weight:600;opacity:.9}
    .nav .links{display:flex;gap:18px;align-items:center}
    .theme-toggle{border:1px solid rgba(148,163,184,.2);background:transparent;color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}

    /* ====== Hero ====== */
    .hero{position:relative;overflow:hidden;background:radial-gradient(1000px 300px at 0% -10%, rgba(56,189,248,.35), transparent 50%),
      radial-gradient(1000px 400px at 100% -20%, rgba(34,211,238,.35), transparent 50%)}
    .hero-inner{max-width:1100px;margin:auto;padding:72px 16px;display:grid;grid-template-columns:1.2fr .8fr;gap:28px}
    .hello{font-size:14px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    h1{font-size:clamp(28px,4.5vw,48px);margin:.35rem 0 1rem}
    .sub{font-size:clamp(16px,2vw,18px);color:var(--muted)}
    .cta{display:flex;gap:12px;margin-top:22px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:12px;border:1px solid rgba(148,163,184,.2);text-decoration:none;font-weight:700;box-shadow:var(--shadow)}
    .btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#002233;border-color:transparent}
    .btn.secondary{background:transparent;color:var(--text)}
    .avatar-wrap{display:flex;align-items:center;justify-content:center}
    .avatar{width:min(240px,60%);aspect-ratio:1;border-radius:24px;background:
      radial-gradient(120px 200px at 20% 0%, rgba(148,163,184,.25), transparent),
      linear-gradient(135deg,var(--brand),var(--brand-2));
      box-shadow:var(--shadow);position:relative;overflow:hidden}
    img.avatar{object-fit:cover;object-position:center;display:block}

    /* ====== Sections ====== */
    section{max-width:1100px;margin:0 auto;padding:56px 16px}
    .section-title{font-size:22px;letter-spacing:.02em}
    .section-title .bar{display:inline-block;height:10px;width:10px;margin-right:8px;border-radius:3px;background:linear-gradient(135deg,var(--brand),var(--brand-2));box-shadow:0 0 0 6px var(--ring)}
    .muted{color:var(--muted)}

    /* ====== Skills ====== */
    .chips{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    .chip{padding:8px 12px;border-radius:999px;border:1px solid rgba(148,163,184,.2);background:rgba(148,163,184,.08)}

    /* ====== Projects ====== */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:18px}
    .card{background:var(--panel);border:1px solid rgba(148,163,184,.15);border-radius:16px;padding:18px;box-shadow:var(--shadow);position:relative;overflow:hidden;transition:transform .25s ease, border-color .25s ease}
    .card:hover{transform:translateY(-4px);border-color:rgba(56,189,248,.35)}
    .card h3{margin:.2rem 0 .6rem}
    .tag{font-size:12px;opacity:.8}
    .card a{display:inline-block;margin-top:12px;color:var(--brand-2);font-weight:700;text-decoration:none}

    /* ====== Timeline ====== */
    .timeline{position:relative;margin-top:16px}
    .timeline::before{content:"";position:absolute;left:13px;top:0;bottom:0;width:2px;background:linear-gradient(var(--brand),var(--brand-2))}
    .item{display:grid;grid-template-columns:26px 1fr;gap:14px;padding:10px 0}
    .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(135deg,var(--brand),var(--brand-2));margin-top:6px;box-shadow:0 0 0 6px var(--ring)}

    /* ====== Contact ====== */
    .contact{display:grid;grid-template-columns:1.1fr .9fr;gap:22px}
    .panel{background:var(--panel);border:1px solid rgba(148,163,184,.15);border-radius:16px;padding:18px;box-shadow:var(--shadow)}
    .panel a{color:var(--brand-2);text-decoration:none}
    .form input,.form textarea{width:100%;padding:12px 14px;margin:8px 0;border-radius:12px;border:1px solid rgba(148,163,184,.25);background:rgba(148,163,184,.06);color:var(--text)}
    .form button{margin-top:6px}

    /* ====== Footer ====== */
    footer{padding:36px 16px;border-top:1px solid rgba(148,163,184,.15);text-align:center;color:var(--muted)}

    /* ====== Utilities ====== */
    .hide{display:none}
    .sr{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}

    /* ====== Responsive ====== */
    @media (max-width: 920px){
      .hero-inner{grid-template-columns:1fr;gap:16px;text-align:center}
      .avatar{width:220px}
      .grid{grid-template-columns:1fr 1fr}
      .contact{grid-template-columns:1fr}
    }
    @media (max-width:600px){
      .grid{grid-template-columns:1fr}
    }

    /* ====== Appear Animations (on-scroll) ====== */
    [data-appear]{opacity:0;transform:translateY(12px);transition:opacity .5s ease, transform .5s ease}
    [data-appear].in{opacity:1;transform:none}
      /* ====== Icon styles ====== */
    .chip i{font-size:18px;line-height:0;vertical-align:-3px;margin-right:8px;opacity:.95}
    .social{display:flex;gap:10px;align-items:center;margin-top:8px}
    .icon-btn{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:999px;border:1px solid rgba(148,163,184,.2);background:rgba(148,163,184,.06);box-shadow:var(--shadow);text-decoration:none}
    .icon-btn svg{width:20px;height:20px;fill:currentColor}
    .badge{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:999px;background:rgba(148,163,184,.12);margin-right:8px;border:1px solid rgba(148,163,184,.2)}
    .badge i{font-size:16px;margin:0}
      /* ====== Smooth theme transitions ====== */
    body, .panel, .card, .chip { transition: background-color .35s ease, color .35s ease, border-color .35s ease; }

    /* ====== Particles background ====== */
    #particles{position:absolute;inset:0;pointer-events:none;opacity:.4}
      /* ====== Chatbot (floating) ====== */
    .chat-launcher{position:fixed;right:18px;bottom:18px;z-index:60;width:56px;height:56px;border-radius:999px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(148,163,184,.2);background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#032;box-shadow:var(--shadow);cursor:pointer}
    .chat-panel{position:fixed;right:18px;bottom:86px;width:min(380px,92vw);max-height:70vh;display:none;flex-direction:column;background:var(--panel);border:1px solid rgba(148,163,184,.25);border-radius:16px;box-shadow:var(--shadow);z-index:60;overflow:hidden}
    .chat-header{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid rgba(148,163,184,.2)}
    .chat-body{padding:12px;overflow:auto;display:flex;flex-direction:column;gap:10px}
    .bubble{max-width:85%;padding:10px 12px;border-radius:14px;border:1px solid rgba(148,163,184,.2);line-height:1.5}
    .bubble.you{align-self:flex-end;background:rgba(148,163,184,.08)}
    .bubble.bot{align-self:flex-start;background:rgba(56,189,248,.08)}
    .chat-input{display:flex;gap:8px;padding:10px;border-top:1px solid rgba(148,163,184,.2)}
    .chat-input input{flex:1;padding:10px 12px;border-radius:12px;border:1px solid rgba(148,163,184,.25);background:rgba(148,163,184,.06);color:var(--text)}
    .chat-input button{padding:10px 14px;border-radius:12px;border:1px solid rgba(148,163,184,.2);background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#032;font-weight:700}
      /* ====== SDSU badge ====== */
    .badge-logo{display:inline-flex;align-items:center;gap:8px}
    .logo-sdsu{width:20px;height:20px;object-fit:contain;vertical-align:-4px;border-radius:4px;background:#fff;padding:2px;border:1px solid rgba(148,163,184,.2)}
  </style>
  <!-- Devicon icon font for tech logos -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">
</head>
<body>
  <!-- Nav -->
  <div class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav-inner">
      <a class="brand" href="#top" aria-label="Go to top">
        <span class="dot" aria-hidden="true"></span>
        <span>Mohit Malu</span>
      </a>
      <div class="links">
        <a href="#about">About</a>
        <a href="#skills">Skills</a>
        <a href="#projects">Projects</a>
        <a href="#experience">Experience</a>
        <a href="#contact">Contact</a>
        <a class="icon-btn" href="https://github.com/malumohit" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.03c-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.09-.75.08-.74.08-.74 1.2.09 1.84 1.24 1.84 1.24 1.07 1.84 2.81 1.31 3.5 1 .11-.78.42-1.31.76-1.61-2.66-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.12-.3-.54-1.52.12-3.17 0 0 1.01-.32 3.31 1.23a11.5 11.5 0 0 1 6.02 0c2.3-1.55 3.31-1.23 3.31-1.23.66 1.65.24 2.87.12 3.17.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.49 5.92.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12 12 0 0 0 12 .5Z"/></svg>
        </a>
        <a class="icon-btn" href="https://www.linkedin.com/in/mohit-malu/" target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zM8 8h3.8v2.2h.06c.53-1 1.84-2.2 3.8-2.2C20.42 8 22 10.2 22 14.12V24h-4v-8.6c0-2.05-.04-4.7-2.86-4.7-2.86 0-3.3 2.23-3.3 4.55V24H8V8z"/></svg>
        </a>
        <button class="theme-toggle" id="toggleTheme" aria-label="Toggle dark mode">🌙</button>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <header id="top" class="hero">
    <div id="particles"></div>
    <div class="hero-inner">
      <div>
        <div class="hello">👋 Hi, I’m</div>
        <h1><span style="background:linear-gradient(135deg,var(--brand),var(--brand-2));-webkit-background-clip:text;background-clip:text;color:transparent">Mohit Malu</span></h1>
        <p class="sub">Data Scientist & Data Engineer • AWS • Python • ML • Big Data</p>
        <div class="cta">
          <a class="btn primary" href="resume.pdf" download>📄 Download Resume</a>
          <a class="btn secondary" href="#projects">View Projects →</a>
        </div>
      </div>
      <div class="avatar-wrap">
        <img class="avatar" src="images/mohit.jpg" alt="Portrait of Mohit Malu" loading="lazy" />
      </div>
    </div>
  </header>

  <!-- About -->
  <section id="about" data-appear>
    <h2 class="section-title"><span class="bar"></span>About Me</h2>
    <p class="muted">I’m a Data Analyst / Data Engineer with an MS in MIS (SDSU <img class="logo-sdsu" src="images/sdsu.png" alt="SDSU" />). I’ve worked at the intersection of embedded systems and data—building ETL pipelines, big‑data integrations, and ML for predictive maintenance and anomaly detection. Comfortable across Python, SQL, AWS, Snowflake, Kafka, Spark, Airflow, Tableau, and R, I turn raw controller and sensor data into reliable, decision‑ready insights. I collaborate closely with hardware and project teams to improve product reliability, efficiency, and data quality.</p>
  </section>

  <!-- Skills -->
  <section id="skills" data-appear data-aos="fade-up">
    <h2 class="section-title"><span class="bar"></span>Technical Skills</h2>
    <div class="chips">
      <span class="chip"><span class="badge"><i class="devicon-python-plain"></i></span>Python</span>
      <span class="chip"><span class="badge"><i class="devicon-postgresql-plain"></i></span>SQL</span>
      <span class="chip"><span class="badge"><i class="devicon-r-plain"></i></span>R</span>
      <span class="chip"><span class="badge"><i class="devicon-bash-plain"></i></span>Shell</span>
      <span class="chip"><span class="badge"><i class="devicon-pandas-original"></i></span>Pandas</span>
      <span class="chip"><span class="badge"><i class="devicon-numpy-original"></i></span>NumPy</span>
      <span class="chip"><span class="badge"><i class="devicon-scikitlearn-plain"></i></span>scikit‑learn</span>
      <span class="chip"><span class="badge"><i class="devicon-apachespark-plain"></i></span>Spark</span>
      <span class="chip"><span class="badge"><i class="devicon-hadoop-plain"></i></span>Hadoop</span>
      <span class="chip"><span class="badge"><i class="devicon-amazonwebservices-original"></i></span>AWS</span>
      <span class="chip"><span class="badge"><i class="devicon-amazonwebservices-original"></i></span>Amazon SageMaker</span>
      <span class="chip"><span class="badge"><i class="devicon-tableau-original"></i></span>Tableau</span>
      <span class="chip"><span class="badge"><i class="devicon-powerbi-plain"></i></span>Power BI</span>
      <span class="chip"><span class="badge"><i class="devicon-docker-plain"></i></span>Docker</span>
      <span class="chip"><span class="badge"><i class="devicon-kubernetes-plain"></i></span>Kubernetes</span>
      <span class="chip"><span class="badge"><i class="devicon-apacheairflow-plain"></i></span>Apache Airflow</span>
      <span class="chip"><span class="badge"><i class="devicon-snowflake-plain"></i></span>Snowflake</span>
      <span class="chip"><span class="badge"><i class="devicon-git-plain"></i></span>Git</span>
      <span class="chip"><span class="badge"><i class="devicon-jupyter-plain"></i></span>Jupyter</span>
      <span class="chip"><span class="badge"><i class="devicon-vscode-plain"></i></span>VS Code</span>
    </div>

    <div style="height:220px;margin-top:18px" data-aos="fade-up">
      <canvas id="skillsChart"></canvas>
    </div>
  

    <div style="height:220px;margin-top:18px" data-aos="fade-up">
      <canvas id="skillsChart"></canvas>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" data-appear>
    <h2 class="section-title"><span class="bar"></span>Projects</h2>
    <div class="grid">
      <!-- Card 1: Local AI Agent Calculator -->
      <article class="card" data-aos="fade-up">
        <h3>Local AI Agent Calculator</h3>
        <p class="muted">A lightweight local agent running with Ollama + Llama 3.1. Adds a reasoning loop, tool calls (calculator, web_search), and simple RAG on your own files.</p>
        <div class="chips">
          <span class="chip"><i class="devicon-python-plain"></i>Python</span>
          <span class="chip"><i class="devicon-amazonwebservices-original"></i>LLM/Ollama</span>
          <span class="chip"><i class="devicon-apacheairflow-plain"></i>RAG</span>
        </div>
        <a href="https://github.com/malumohit/Local-AI-agent-calculator" target="_blank" rel="noopener" class="btn secondary">View Project →</a>
      </article>

      <!-- Card 2: Showcase Projects -->
      <article class="card" data-aos="fade-up" data-aos-delay="80">
        <h3>Showcase Projects</h3>
        <p class="muted">A collection of small ML/Analytics/SQL projects demonstrating techniques across preprocessing, modeling, and visualization.</p>
        <div class="chips">
          <span class="chip"><i class="devicon-python-plain"></i>Python</span>
          <span class="chip"><i class="devicon-tableau-original"></i>Dashboards</span>
          <span class="chip"><i class="devicon-postgresql-plain"></i>SQL</span>
        </div>
        <a href="https://github.com/malumohit/showcase-projects" target="_blank" rel="noopener" class="btn secondary">View Project →</a>
      </article>

      <!-- Card 3: Portfolio Website -->
      <article class="card" data-aos="fade-up" data-aos-delay="120">
        <h3>Portfolio Website</h3>
        <p class="muted">This site: custom animated UI + AOS, particles, dark/light mode, client‑side AI chatbot, and optional Jekyll pages.</p>
        <div class="chips">
          <span class="chip"><i class="devicon-html5-plain"></i>HTML</span>
          <span class="chip"><i class="devicon-css3-plain"></i>CSS</span>
          <span class="chip"><i class="devicon-javascript-plain"></i>JavaScript</span>
        </div>
        <a href="https://github.com/malumohit/mohitmalu.github.io" target="_blank" rel="noopener" class="btn secondary">View Project →</a>
      </article>
    </div>
  </section>

  <!-- Experience (Timeline) -->
  <section id="experience" data-appear>
    <h2 class="section-title"><span class="bar"></span>Professional Experience</h2>
    <div class="timeline">
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <span class="badge-logo"><img class="logo-sdsu" src="images/sdsu.png" alt="SDSU logo" /> <strong>Fowler College of Business, SDSU — Research Assistant</strong></span> · <span class="muted">Aug 2024 – Present</span>
          <p class="muted">Analyzed foot‑traffic and business outcomes (regression, time‑series); built supervised models and KMeans clustering for regional mental‑health trends; created dashboards with Matplotlib/Seaborn/Tableau; ran literature reviews and statistical tests (chi‑square, ANOVA); supported survey design and data collection.</p>
        </div>
      </div>
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <strong>Aztec Shops, Ltd. — Sales Associate</strong> · <span class="muted">Aug 2023 – May 2024</span>
          <p class="muted">Frontline operations and customer support while studying; strengthened communication and problem‑solving.</p>
        </div>
      </div>
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <strong>San Diego State University — Student Assistant</strong> · <span class="muted">May 2023 – May 2024</span>
          <p class="muted">Primary point of contact for student residents; troubleshooting and service coordination.</p>
        </div>
      </div>
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <strong>Akshay Embedded Systems — Data Engineer & Data Scientist</strong> · <span class="muted">Aug 2019 – Dec 2021</span>
          <p class="muted">Built end‑to‑end ETL for sensor logs and PI/SCADA data using Python, SQL, Snowflake, Kafka, and AWS (S3, EC2); deployed ML‑ready models and real‑time Tableau dashboards for efficiency & fault trends; scaled distributed processing on Spark and Airflow; improved DAG design & scheduling, boosting pipeline efficiency by ~25%.</p>
        </div>
      </div>
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <strong>Akshay Embedded Systems — Junior Testing Engineer</strong> · <span class="muted">Jan 2018 – Aug 2019</span>
          <p class="muted">Automated Python QA for embedded controllers (‑17% manual effort); audited test‑log data with SQL; improved logging protocols, increasing downstream analytics reliability (~22%).</p>
        </div>
      </div>
      <div class="item">
        <div class="dot" aria-hidden="true"></div>
        <div>
          <strong>SevenMentor Pvt Ltd — Engineer Intern</strong> · <span class="muted">Jul 2017 – Dec 2017</span>
          <p class="muted">Hands‑on SQL analysis and database tasks (retrieval, manipulation, optimization).</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" data-appear data-aos="fade-up">
    <h2 class="section-title"><span class="bar"></span>Contact</h2>
    <div class="contact">
      <div class="panel">
        <p>📍 San Diego, CA</p>
        <p>🎓 <img class="logo-sdsu" src="images/sdsu.png" alt="SDSU" /> San Diego State University</p>
        <p>📧 <a href="mailto:malumohit24@gmail.com">malumohit24@gmail.com</a> · <a href="mailto:mmalu9864@sdsu.edu">mmalu9864@sdsu.edu</a></p>
        <p>🔗 <a href="https://www.linkedin.com/in/mohit-malu/" target="_blank" rel="noopener">LinkedIn</a> · <a href="https://github.com/malumohit" target="_blank" rel="noopener">GitHub</a> · <a href="https://public.tableau.com/views/Lab1SalesDashboard/SalesDashboard" target="_blank" rel="noopener">Tableau</a></p>
        <div class="social" aria-label="Social links">
          <a class="icon-btn" href="https://github.com/malumohit" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.03c-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.09-.75.08-.74.08-.74 1.2.09 1.84 1.24 1.84 1.24 1.07 1.84 2.81 1.31 3.5 1 .11-.78.42-1.31.76-1.61-2.66-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.12-.3-.54-1.52.12-3.17 0 0 1.01-.32 3.31 1.23a11.5 11.5 0 0 1 6.02 0c2.3-1.55 3.31-1.23 3.31-1.23.66 1.65.24 2.87.12 3.17.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.49 5.92.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12 12 0 0 0 12 .5Z"/></svg>
          </a>
          <a class="icon-btn" href="https://www.linkedin.com/in/mohit-malu/" target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zM8 8h3.8v2.2h.06c.53-1 1.84-2.2 3.8-2.2C20.42 8 22 10.2 22 14.12V24h-4v-8.6c0-2.05-.04-4.7-2.86-4.7-2.86 0-3.3 2.23-3.3 4.55V24H8V8z"/></svg>
          </a>
        </div>
      </div>
      </div>
      <form class="panel form" name="contact" netlify netlify-honeypot="bot-field">
        <h3 style="margin-top:0">Quick Message</h3>
        <input type="hidden" name="form-name" value="contact" />
        <p class="sr">If you are a human, leave this field blank:<input name="bot-field" /></p>
        <input type="hidden" name="form-name" value="contact" />
        <label class="sr" for="name">Name</label>
        <input id="name" name="name" placeholder="Your name" required />
        <label class="sr" for="email">Email</label>
        <input id="email" type="email" name="email" placeholder="name@example.com" required />
        <label class="sr" for="msg">Message</label>
        <textarea id="msg" name="message" rows="4" placeholder="How can I help?" required></textarea>
        <div data-netlify-recaptcha="true"></div>
        <button class="btn primary" type="submit">Send Message</button>
      </form>
    </div>
  </section>

  <footer>
    © <span id="year"></span> Mohit Malu · Hosted on GitHub Pages
  </footer>

  <script>
    // Dark / Light theme toggle with persistence
    const root = document.documentElement;
    const toggle = document.getElementById('toggleTheme');
    const saved = localStorage.getItem('theme');
    if(saved === 'light'){ root.classList.add('light'); toggle.textContent = '☀️'; }
    toggle.addEventListener('click', ()=>{
      root.classList.toggle('light');
      const light = root.classList.contains('light');
      localStorage.setItem('theme', light ? 'light' : 'dark');
      toggle.textContent = light ? '☀️' : '🌙';
    });

    // Smooth appear on scroll
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target);} });
    },{threshold:.12});
    document.querySelectorAll('[data-appear]').forEach(el=>obs.observe(el));

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
      // Point all project links to GitHub profile
    document.querySelectorAll('#projects .card a').forEach(a => {
      a.href = 'https://github.com/malumohit';
    });
  </script>
  <!-- Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>

  <script>
    // Initialize particles.js (lightweight subtle background)
    particlesJS('particles', {
      particles:{number:{value:60,density:{enable:true,value_area:800}},
        color:{value:'#38bdf8'},shape:{type:'circle'},opacity:{value:0.25},
        size:{value:2, random:true}, line_linked:{enable:true, distance:140, color:'#22d3ee', opacity:0.2, width:1},
        move:{enable:true, speed:1, direction:'none', out_mode:'out'}},
      interactivity:{detect_on:'canvas', events:{onhover:{enable:false},onclick:{enable:false}}, modes:{}},
      retina_detect:true
    });

    // AOS scroll animations
    AOS.init({ once:true, duration:600, offset:80, easing:'ease-out' });

    // Chart.js skills bar (replace with your own values)
    const ctx = document.getElementById('skillsChart');
    if(ctx){
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Python','SQL','Spark','AWS','scikit-learn','Tableau'],
          datasets: [{
            label: 'Proficiency',
            data: [95, 90, 85, 85, 88, 75]
          }]
        },
        options: {
          responsive:true,
          maintainAspectRatio:false,
          scales:{ y:{ beginAtZero:true, max:100, ticks:{ stepSize:20 } } }
        }
      });
    }
  </script>

    <!-- Floating Chatbot -->
  <button class="chat-launcher" id="chatLauncher" aria-label="Chat with AI">💬</button>
  <section class="chat-panel" id="chatPanel" aria-live="polite" aria-label="AI chat panel">
    <div class="chat-header">
      <strong>AI Assistant</strong>
      <button class="theme-toggle" id="chatClose" aria-label="Close chat">✕</button>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="bubble bot">Hi! I’m your AI helper. Ask about Mohit, projects, resume, or how to contact.</div>
    </div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Type a message… (Shift+Enter = newline)" />
      <button id="chatSend">Send</button>
    </div>
  </section>

  <script type="module">
/* ====== Chatbot: unified script (free, client-side, with memory) ====== */

// ---------- UI elements ----------
const launcher = document.getElementById('chatLauncher');
const panel    = document.getElementById('chatPanel');
const closeBtn = document.getElementById('chatClose');
const clearBtn = document.getElementById('chatClear');
const stopBtn  = document.getElementById('chatStop');
const modelSel = document.getElementById('chatModel');
const bodyEl   = document.getElementById('chatBody');
const chipsEl  = document.getElementById('promptChips');
const inputEl  = document.getElementById('chatInput');
const sendBtn  = document.getElementById('chatSend');

const STORAGE_HTML = 'mohit_chat_history_html_v1';
const STORAGE_CONV = 'mohit_chat_convo_v1';

// ---------- system prompt (so it doesn’t repeat canned replies) ----------
const systemPrompt = `
You are a helpful website guide for Mohit Malu's portfolio.
Be concise, friendly, and specific. Prefer concrete links only when relevant:
- GitHub profile: https://github.com/malumohit
- LinkedIn: https://www.linkedin.com/in/mohit-malu/
- Email: mmalu9864@sdsu.edu or malumohit24@gmail.com
- Location: San Diego, CA
If asked about the resume, mention the homepage "Download Resume" button.
If unsure, ask a short clarifying question instead of repeating the same answer.
Avoid repeating identical phrasing across turns.
`;

// ---------- helpers ----------
function linkify(txt){
  return txt.replace(/(https?:\/\/[^\s)]+|www\.[^\s)]+)/g, m => {
    const u = m.startsWith('http') ? m : 'https://' + m;
    return `<a href="${u}" target="_blank" rel="noopener">${m}</a>`;
  });
}
function renderMarkdown(txt){
  // linkify first
  txt = linkify(txt);
  // code blocks
  txt = txt.replace(/```([\s\S]*?)```/g, (m,code)=>`<pre><code>${code.replace(/[&<>]/g,c=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[c]||c))}</code></pre>`);
  // inline code
  txt = txt.replace(/`([^`]+)`/g,'<code>$1</code>');
  // bold | italic
  txt = txt.replace(/\*\*([^*]+)\*\*/g,'<strong>$1</strong>');
  txt = txt.replace(/\*([^*]+)\*/g,'<em>$1</em>');
  return txt;
}

function saveHistoryHTML(){ try{ localStorage.setItem(STORAGE_HTML, bodyEl.innerHTML); }catch{} }
function loadHistoryHTML(){ try{ const h = localStorage.getItem(STORAGE_HTML); if(h) bodyEl.innerHTML = h; }catch{} }

function getConvo(){
  try { return JSON.parse(localStorage.getItem(STORAGE_CONV) || '[]'); } catch { return []; }
}
function setConvo(arr){ try{ localStorage.setItem(STORAGE_CONV, JSON.stringify(arr.slice(-10))); } catch{} }
let convo = getConvo();

function addBubble(text, who='bot'){
  const div = document.createElement('div');
  div.className = `bubble ${who}`;
  div.innerHTML = who === 'bot' ? renderMarkdown(text) : linkify(text);
  if(who === 'bot'){
    const b = document.createElement('button');
    b.className = 'copy-btn';
    b.textContent = 'Copy';
    b.addEventListener('click', ()=>{ navigator.clipboard.writeText(div.innerText.trim()); b.textContent='Copied!'; setTimeout(()=>b.textContent='Copy',1200); });
    div.appendChild(b);
  }
  bodyEl.appendChild(div);
  bodyEl.scrollTop = bodyEl.scrollHeight;
  saveHistoryHTML();
}
function statusMsg(text){
  const last = bodyEl.lastElementChild;
  const html = linkify(text);
  if(last && last.dataset && last.dataset.status){
    last.innerHTML = html;
  } else {
    const d = document.createElement('div');
    d.className = 'bubble bot';
    d.dataset.status = '1';
    d.innerHTML = html;
    bodyEl.appendChild(d);
  }
  bodyEl.scrollTop = bodyEl.scrollHeight;
  saveHistoryHTML();
}

// ---------- open/close/clear ----------
function openChat(){ panel.style.display='flex'; setTimeout(()=>inputEl?.focus(), 50); loadHistoryHTML(); ensureEngine(); }
function closeChat(){ panel.style.display='none'; }
function clearHistory(){ bodyEl.innerHTML = '<div class="bubble bot">Cleared. How can I help?</div>'; saveHistoryHTML(); convo = []; setConvo(convo); }

launcher?.addEventListener('click', openChat);
closeBtn?.addEventListener('click', closeChat);
clearBtn?.addEventListener('click', clearHistory);

// chips quick send
chipsEl?.addEventListener('click', (e)=>{
  if(e.target.classList.contains('chip-btn')){
    inputEl.value = e.target.textContent;
    handleSend();
  }
});

// ---------- WebLLM load (on-device, free) ----------
let engine = null, loading = false;
async function ensureEngine(){
  // switch model if needed
  if(engine && window._selectedModel && modelSel && window._selectedModel !== modelSel.value){
    engine = null;
  }
  if(engine || loading) return engine;
  loading = true;
  try{
    const { CreateWebWorkerMLCEngine } = await import('https://unpkg.com/@mlc-ai/web-llm@0.2.53/dist/index.min.js');
    const worker = new Worker('https://unpkg.com/@mlc-ai/web-llm@0.2.53/dist/worker.js', { type: 'module' });
    window._selectedModel = modelSel?.value || 'Phi-3-mini-4k-instruct-q4f32_1';
    engine = await CreateWebWorkerMLCEngine(worker, {
      model: window._selectedModel,
      temperature: 0.6, top_p: 0.95
    }, { initProgressCallback: (p)=> statusMsg(`Loading AI… ${Math.round(p.progress*100)}%`) });
    statusMsg('Ready!');
  }catch(e){
    console.warn('AI load failed; falling back to basic mode', e);
    statusMsg('Running in basic mode.');
  }finally{
    loading = false;
  }
  return engine;
}
modelSel?.addEventListener('change', ()=> statusMsg('Switching model…'));

// ---------- askLLM with conversation + streaming + stop ----------
async function askLLM(prompt){
  // add user turn
  convo.push({ role: 'user', content: prompt });
  setConvo(convo);

  const eng = await ensureEngine();

  // fallback/basic mode if model missing
  if(!eng){
    const l = prompt.toLowerCase();
    if(l.includes('github'))   return 'You can browse everything on my GitHub: https://github.com/malumohit';
    if(l.includes('linkedin')) return 'Here’s my LinkedIn: https://www.linkedin.com/in/mohit-malu/';
    if(l.includes('resume'))   return 'Use the “Download Resume” button on the homepage to get the latest PDF.';
    if(l.includes('contact')||l.includes('email')) return 'You can email me at mmalu9864@sdsu.edu or malumohit24@gmail.com.';
    if(l.includes('project'))  return 'My projects are listed here: https://github.com/malumohit';
    return "I'm in basic mode right now. You can ask about projects, resume, or contact info.";
  }

  const MAX_TURNS = 8;
  const messages = [{ role: 'system', content: systemPrompt }, ...convo.slice(-MAX_TURNS)];

  let reply = '';
  let stopFlag = false;
  const onStop = ()=>{ stopFlag = true; };
  stopBtn?.addEventListener('click', onStop, { once:true });

  for await (const chunk of eng.chat.completions.create({ messages, stream: true })){
    if(stopFlag) break;
    const delta = chunk?.choices?.[0]?.delta?.content;
    if(!delta) continue;
    reply += delta;

    if(!addBubble._editing){
      addBubble._editing = document.createElement('div');
      addBubble._editing.className = 'bubble bot';
      const b = document.createElement('button');
      b.className='copy-btn'; b.textContent='Copy';
      b.addEventListener('click', ()=>{ navigator.clipboard.writeText(addBubble._editing.innerText.trim()); b.textContent='Copied!'; setTimeout(()=>b.textContent='Copy',1200); });
      addBubble._editing.appendChild(b);
      bodyEl.appendChild(addBubble._editing);
    }
    const btnHTML = addBubble._editing.lastChild.outerHTML;
    addBubble._editing.innerHTML = renderMarkdown(reply) + btnHTML;

    bodyEl.scrollTop = bodyEl.scrollHeight;
    saveHistoryHTML();
  }

  const finalReply = reply.trim() || '…';
  convo.push({ role: 'assistant', content: finalReply });
  setConvo(convo);
  addBubble._editing = null;
  saveHistoryHTML();
  return finalReply;
}

// ---------- send handlers ----------
async function handleSend(){
  const text = (inputEl.value || '').trim();
  if(!text) return;
  inputEl.value = '';
  addBubble(text, 'you');
  const thinking = document.createElement('div'); thinking.className='bubble bot'; thinking.dataset.status='1'; thinking.textContent='Thinking…'; bodyEl.appendChild(thinking);
  try{
    const ans = await askLLM(text);
    if(thinking.parentNode) thinking.remove();
    if(!addBubble._editing) addBubble(ans,'bot');
  }catch(e){
    if(thinking.parentNode) thinking.remove();
    addBubble('Sorry, something went wrong.','bot');
    console.error(e);
  }
}
sendBtn?.addEventListener('click', handleSend);
inputEl?.addEventListener('keydown', (e)=>{ if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); handleSend(); }});

// ---------- auto-open history if you want ----------
// loadHistoryHTML(); // (kept off by default)
</script>
</body>
</html>
